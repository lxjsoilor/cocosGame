require=function t(e,r,i){function s(n,c){if(!r[n]){if(!e[n]){var a="function"==typeof require&&require;if(!c&&a)return a(n,!0);if(o)return o(n,!0);var h=new Error("Cannot find module '"+n+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return s(r||t)},u,u.exports,t,e,r,i)}return r[n].exports}for(var o="function"==typeof require&&require,n=0;n<i.length;n++)s(i[n]);return s}({game:[function(t,e,r){"use strict";cc._RF.push(e,"49d81MsHg1HDLq+HURwJ1Gn","game"),cc.Class({extends:cc.Component,properties:{},start:function(){this.tiledMap=this.node.getComponent(cc.TiledMap),this.ground=this.tiledMap.getLayer("ground"),this.player=this.node.getChildByName("player"),this.barriers=this.tiledMap.getLayer("barriers"),this.start=this.tiledMap.getLayer("start"),this.PosX=0,this.PosY=0,this.toTarget(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},trunPos:function(t){var e=t.x,r=t.y,i=this.tiledMap.getTileSize();return e+=i.width/2,r+=i.height/2,cc.p(e,r)},toTarget:function(){var t=this.ground.getPositionAt(cc.p(this.PosX,this.PosY));t=this.trunPos(t),this.player.setPosition(t)},onKeyDown:function(t){var e=this.PosX,r=this.PosY;switch(t.keyCode){case cc.KEY.up:r--;i=this.isBarrier(e,r);if(console.log(i),r<0||i)break;this.PosY-=1,this.toTarget();break;case cc.KEY.down:r++;i=this.isBarrier(e,r);if(console.log(i),r>=20||i)break;this.PosY+=1,this.toTarget();break;case cc.KEY.left:e--;i=this.isBarrier(e,r);if(console.log(i),e<0||i)break;this.PosX-=1,this.toTarget();break;case cc.KEY.right:e++;var i=this.isBarrier(e,r);if(console.log(i),e>=20||i)break;this.PosX+=1,this.toTarget()}console.log(this.catchStar(this.PosX,this.PosY))},isBarrier:function(t,e){return console.log(this.barriers.getTileGIDAt(cc.p(t,e))),0!=this.barriers.getTileGIDAt(cc.p(t,e))},catchStar:function(t,e){return 0!=this.start.getTileGIDAt(cc.p(t,e))&&(this.start.removeTileAt(cc.p(t,e)),!0)}}),cc._RF.pop()},{}]},{},["game"]);